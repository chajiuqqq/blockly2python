<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="js/blockly_compressed.js"></script>
		<script src="js/blocks_compressed.js"></script>
		<script src="js/msg/zh-hans.js"></script>
		<script src="js/python_compressed.js"></script>
	</head>

	<xml id="toolbox" style="display: none">
		<block type="controls_if"></block>
		<block type="controls_whileUntil"></block>
	</xml>

	<body>
		<table>
			<tr>
				<td>
					<div id="blocklyDiv" style="height: 480px; width: 600px;"></div>
				</td>
				<td>
					<textarea id="textarea" rows="30" cols="70"></textarea>
				</td>
			</tr>
		</table>

		<script>
			var workspace = Blockly.inject('blocklyDiv', {
				toolbox: document.getElementById('toolbox')
			});

			function myUpdateFunction(event) {
				var code = Blockly.Python.workspaceToCode(workspace);
				document.getElementById('textarea').value = code;
			}
			workspace.addChangeListener(myUpdateFunction);
		</script>
	</body>
</html>
